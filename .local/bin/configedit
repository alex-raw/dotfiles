#!/usr/bin/env sh

choices="\
scripts
i3
bspwm
sxhkd
vim
latex.vim
r.vim
zsh
bookmarks
mutt
mail
programs
polybar
vifm
zprofile
xinit
picom
bash
"

EDIT() { $TERMINAL -e zsh -c "sleep 0.03 && nvim $file" ;}
POLYBAR() { input=$(ls ~/.config/polybar | grep ".*ini" | cut -f 1 -d "." | dmenu -i -p 'Polybar:')  ;}
SCRIPTS() { input=$(ls ~/.local/bin | dmenu -i -p 'Edit script:')  ;}

chosen=$(echo  "$choices"| dmenu -i -p 'Edit config:')

case "$chosen" in
	bash) file="$HOME/.bashrc" ;;
	zsh) file="$HOME/.zshrc" ;;
	zprofile) file="$HOME/.zprofile" ;;
	xinit) file="$HOME/.xinitrc" ;;
	i3) file="$HOME/.config/i3/config" ;;
	bspwm) file="$HOME/.config/bspwm/bspwmrc" ;;
	sxhkd) file="$HOME/.config/sxhkd/sxhkdrc" ;;
	vim) file="$HOME/.config/nvim/init.vim" ;;
	latex.vim) file="$HOME/.config/nvim/latex.vim" ;;
	r.vim) file="$HOME/.config/nvim/r.vim" ;;
	vifm) file="$HOME/.config/vifm/vifmrc" ;;
	picom) file="$HOME/.config/picom/picom.conf" ;;
	programs) file="$HOME/Dropbox/minimal_install.sh" ;;
	bookmarks) file="$HOME/Dropbox/bookmarks" ;;
	mutt) file="$HOME/.config/mutt/muttrc" ;;
	mail) file="$HOME/.config/nvim/mail.vim" ;;

	polybar) POLYBAR && file=$(ls -d ~/.config/polybar/* | grep "$input") ;;
	scripts) SCRIPTS && file=$(ls -d ~/.local/bin/* | grep "$input") ;;
esac

[ -z $file] || EDIT
